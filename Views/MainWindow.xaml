<Window x:Class="ColorPickerLite.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:prism="http://prismlibrary.com/"
        xmlns:converters="clr-namespace:ColorPickerLite.Converters"
        prism:ViewModelLocator.AutoWireViewModel="True"
        Title="{Binding Title}"
        Icon="pack://application:,,,/Resources/ColorPickerLite.ico"
        Background="#1E1E2F"
        FontFamily="Segoe UI"
        FontSize="16"
        SizeToContent="WidthAndHeight">

    <Window.Resources>
        <converters:DrawingColorToBrushConverter x:Key="ColorConverter" />
        <DropShadowEffect x:Key="SoftShadow"
                          BlurRadius="10"
                          ShadowDepth="3"
                          Direction="270"
                          Color="#99000000"/>
    </Window.Resources>

    <StackPanel HorizontalAlignment="Center" Margin="20" MinWidth="500">

        <!-- Real-time color display -->
        <GroupBox Header="Live color" Foreground="White" FontWeight="Bold" Margin="10" Padding="10">
            <DockPanel HorizontalAlignment="Stretch">

                <Border Width="100" Height="100" Margin="10"
                        CornerRadius="15"
                        BorderBrush="White" BorderThickness="2"
                        Effect="{StaticResource SoftShadow}"
                        Background="{Binding LiveDisplayColor, Converter={StaticResource ColorConverter}}"/>

                <Grid Background="#2C2C3C" Margin="5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>

                    <TextBlock Text="🎯 RGB:" Grid.Row="0" Grid.Column="0" Foreground="White" Margin="5"/>
                    <TextBlock Text="{Binding LiveDisplayColorCodeRGB}" Grid.Row="0" Grid.Column="1" Foreground="#00FFAA" FontSize="22" Margin="5"/>

                    <TextBlock Text="🎯 HEX:" Grid.Row="1" Grid.Column="0" Foreground="White" Margin="5"/>
                    <TextBlock Text="{Binding LiveDisplayColorCodeHEX}" Grid.Row="1" Grid.Column="1" Foreground="#FFD700" FontSize="22" Margin="5"/>
                </Grid>

            </DockPanel>
        </GroupBox>

        <!-- Copy buttons -->
        <TextBlock Visibility="{Binding CopyButtonsAndResetButtonAndWarningVisibility}"
            Margin="5" HorizontalAlignment="Center" 
            Text="Click to reset" Foreground="Red" />
        <Button 
            HorizontalAlignment="Center"
            Width="50" Height="50"
            BorderThickness="1" Cursor="Hand"
            Margin="5"
            Background="Red"
            Visibility="{Binding CopyButtonsAndResetButtonAndWarningVisibility}"
            Command="{Binding ResetColorPickerCommand}"
            ToolTip="Reset the selected color without copying"
            >
            <Image Source="pack://application:,,,/Resources/reset-svgrepo-com.png" />
        </Button>

        <!-- Selected color -->
        <GroupBox Header="Selected color" Foreground="White" FontWeight="Bold" Margin="10" Padding="10">
            <DockPanel HorizontalAlignment="Stretch">

                <Border Width="100" Height="100" Margin="10"
                        ToolTip="{Binding SelectedColorDisplayCodeHEX}"
                        CornerRadius="15"
                        BorderBrush="White" BorderThickness="2"
                        Effect="{StaticResource SoftShadow}"
                        Background="{Binding SelectedColor, Converter={StaticResource ColorConverter}}">
                    <Border.InputBindings>
                        <MouseBinding Gesture="RightClick" Command="{Binding EasterEggTriggeredCommand}" />
                    </Border.InputBindings>
                    <Image
                        Visibility="{Binding EasterEggVisibility}"
                        Source="pack://application:,,,/Resources/ColorPickerLiteMeme.jpg" />
                </Border>


                <Grid Background="#2C2C3C" Margin="5" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="220"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition/>
                        <RowDefinition/>
                    </Grid.RowDefinitions>

                    <TextBlock Text="🎨 RGB:" Grid.Row="0" Grid.Column="0" Foreground="White" Margin="5"/>
                    <TextBlock Text="{Binding SelectedColorDisplayCodeRGB}" Grid.Row="0" Grid.Column="1" Foreground="#00FFAA" FontSize="22" Margin="5"/>
                    <Button Command="{Binding CopyRGBCommand}"
                            Grid.Row="0" Grid.Column="2"
                            Margin="10"
                            Background="#00FFAA" Foreground="#003322"
                            BorderThickness="1" Cursor="Hand"
                            Visibility="{Binding CopyButtonsAndResetButtonAndWarningVisibility}"
                            ToolTip="{Binding RGBTooltip}" >
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" >
                            <Image HorizontalAlignment="Center" VerticalAlignment="Center" Source="pack://application:,,,/Resources/copy-svgrepo-com.png"
                               Width="20"/>
                            <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Text=" Copy " />
                        </StackPanel>
                    </Button>

                    <TextBlock Text="🎨 HEX:" Grid.Row="1" Grid.Column="0" Foreground="White" Margin="5"/>
                    <TextBlock Text="{Binding SelectedColorDisplayCodeHEX}" Grid.Row="1" Grid.Column="1" Foreground="#FFD700" FontSize="22" Margin="5"/>
                    <Button Command="{Binding CopyHEXCommand}"
                            Grid.Row="1" Grid.Column="2"
                            Margin="10"
                            Background="#FFD700" Foreground="#332b00"
                            BorderThickness="1" Cursor="Hand"
                            Visibility="{Binding CopyButtonsAndResetButtonAndWarningVisibility}"
                            ToolTip="{Binding HEXTooltip}" >
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" VerticalAlignment="Center" >
                            <Image HorizontalAlignment="Center" VerticalAlignment="Center" Source="pack://application:,,,/Resources/copy-svgrepo-com.png"
                               Width="20"/>
                            <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Text=" Copy " />
                        </StackPanel>
                    </Button>
                </Grid>

            </DockPanel>
        </GroupBox>

    </StackPanel>
</Window>
